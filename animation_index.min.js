let cart=JSON.parse(localStorage.getItem("cart"))||[];function addToCart(productId,productName,productPrice){const existingProduct=cart.find((product=>product.id===productId));if(existingProduct){existingProduct.quantity+=1}else{const newProduct={id:productId,name:productName,price:parseFloat(productPrice.replace(".","").replace(",",".")),quantity:1};cart.push(newProduct)}localStorage.setItem("cart",JSON.stringify(cart));alert("Producto agregado al carrito")}document.querySelectorAll(".add-to-cart").forEach((button=>{button.addEventListener("click",(function(){const productId=parseInt(button.getAttribute("data-id"));const productName=button.getAttribute("data-name");const productPrice=button.getAttribute("data-price");addToCart(productId,productName,productPrice)}))}));const lazyImages=document.querySelectorAll('img[loading="lazy"]');const lazyLoad=(entries,observer)=>{entries.forEach((entry=>{if(entry.isIntersecting){const img=entry.target;img.src=img.dataset.src;observer.unobserve(img)}}))};const observer=new IntersectionObserver(lazyLoad);lazyImages.forEach((img=>observer.observe(img)));